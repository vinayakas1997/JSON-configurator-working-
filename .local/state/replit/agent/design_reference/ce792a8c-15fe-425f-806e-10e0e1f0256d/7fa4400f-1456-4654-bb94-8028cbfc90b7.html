<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLC Configuration Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/heroicons/2.0.18/heroicons.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    colors: {
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                        },
                        destructive: {
                            DEFAULT: "var(--destructive)",
                            foreground: "var(--destructive-foreground)",
                        },
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                    },
                    fontFamily: {
                        sans: ["Inter", "system-ui", "sans-serif"],
                    }
                },
            }
        };
    </script>
    <style>
        :root {
            --background: hsl(210 40% 98%);
            --foreground: hsl(222.2 84% 4.9%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222.2 84% 4.9%);
            --primary: hsl(217.2 91.2% 59.8%);
            --primary-foreground: hsl(0 0% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(222.2 47.4% 11.2%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215.4 16.3% 46.9%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(222.2 47.4% 11.2%);
            --destructive: hsl(0 84.2% 60.2%);
            --destructive-foreground: hsl(0 0% 98%);
            --border: hsl(214.3 31.8% 91.4%);
            --input: hsl(214.3 31.8% 91.4%);
            --ring: hsl(217.2 91.2% 59.8%);
            --radius: 8px;
        }

        .drag-over {
            border-color: var(--primary);
            background-color: hsl(217.2 91.2% 59.8% / 0.1);
        }

        .heroicon {
            width: 1.25rem;
            height: 1.25rem;
        }

        .heroicon-lg {
            width: 1.5rem;
            height: 1.5rem;
        }

        .table-cell-input {
            background: transparent;
            border: none;
            outline: none;
            width: 100%;
            padding: 0.5rem;
        }

        .table-cell-input:focus {
            background: var(--accent);
            border-radius: 4px;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapsible-content.expanded {
            max-height: 2000px;
            transition: max-height 0.3s ease-in;
        }
    </style>
</head>
<body class="bg-background font-sans antialiased">
    <!-- Header -->
    <header class="bg-card shadow-sm border-b border-border">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path>
                        </svg>
                        <h1 class="text-2xl font-bold text-foreground">PLC Configuration Manager</h1>
                    </div>
                </div>
                
                <!-- Language Toggle -->
                <div class="flex items-center space-x-3">
                    <div class="flex items-center bg-secondary rounded-lg p-1">
                        <button class="px-3 py-1 text-sm font-medium bg-primary text-primary-foreground rounded-md transition-colors" data-lang="en">
                            English
                        </button>
                        <button class="px-3 py-1 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors" data-lang="jp">
                            日本語
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Panel - Configuration Form -->
            <div class="lg:col-span-2 space-y-6">
                <!-- File Settings -->
                <div class="bg-card rounded-lg border border-border p-6">
                    <h2 class="text-lg font-semibold mb-4 text-foreground">Configuration File Settings</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-foreground mb-2">File Name</label>
                            <input 
                                type="text" 
                                placeholder="plc_configuration.json"
                                class="w-full px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                                data-bind="fileName"
                            >
                        </div>
                    </div>
                </div>

                <!-- PLC Devices -->
                <div class="space-y-4" id="plc-container">
                    <!-- @COMPONENT: PLCDevice [plcData, onDelete, onUpdate] -->
                    <div class="bg-card rounded-lg border border-border" data-plc-id="1">
                        <!-- PLC Header -->
                        <div class="flex items-center justify-between p-4 border-b border-border">
                            <div class="flex items-center space-x-3">
                                <div class="p-2 bg-primary/10 rounded-lg">
                                    <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-foreground" data-bind="plc.name">PLC Device 1</h3>
                                    <p class="text-sm text-muted-foreground">Industrial Controller</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1 text-sm font-medium bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors" data-event="click:deletePLC">
                                    DELETE
                                </button>
                                <button class="p-2 text-muted-foreground hover:text-foreground transition-colors collapse-toggle" data-event="click:toggleCollapse">
                                    <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- PLC Content -->
                        <div class="collapsible-content expanded">
                            <div class="p-6 space-y-6">
                                <!-- Basic Information -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-foreground mb-2">PLC Name</label>
                                        <input 
                                            type="text" 
                                            placeholder="PLC1"
                                            class="w-full px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                                            data-bind="plc.name"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-foreground mb-2">PLC IP Address</label>
                                        <input 
                                            type="text" 
                                            placeholder="192.168.2.2"
                                            class="w-full px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                                            data-bind="plc.ip"
                                        >
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-foreground mb-2">OPC UA URL</label>
                                    <input 
                                        type="text" 
                                        placeholder="opc.tcp://192.168.1.20:4840"
                                        class="w-full px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                                        data-bind="plc.opcuaUrl"
                                    >
                                </div>

                                <!-- File Upload Section -->
                                <div class="border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors" data-implementation="File upload drag and drop functionality">
                                    <div class="flex flex-col items-center space-y-3">
                                        <svg class="w-12 h-12 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                        </svg>
                                        <div>
                                            <p class="text-sm text-foreground font-medium">Upload Address Mappings File</p>
                                            <p class="text-xs text-muted-foreground">Drop CSV or TXT files here, or click to browse</p>
                                        </div>
                                        <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium" data-event="click:uploadFile">
                                            Choose File
                                        </button>
                                        <input type="file" accept=".csv,.txt" class="hidden" data-event="change:handleFileUpload">
                                    </div>
                                </div>

                                <!-- Address Mappings Table -->
                                <div>
                                    <div class="flex items-center justify-between mb-4">
                                        <h4 class="text-md font-semibold text-foreground">Address Mappings</h4>
                                        <button class="px-3 py-1 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors text-sm font-medium" data-event="click:addMapping">
                                            + Add Mapping
                                        </button>
                                    </div>

                                    <div class="border border-border rounded-lg overflow-hidden">
                                        <table class="w-full">
                                            <thead class="bg-secondary">
                                                <tr>
                                                    <th class="text-left p-3 text-sm font-medium text-secondary-foreground">PLC Reg Address</th>
                                                    <th class="text-left p-3 text-sm font-medium text-secondary-foreground">Data Type</th>
                                                    <th class="text-left p-3 text-sm font-medium text-secondary-foreground">OPC UA Reg Address</th>
                                                    <th class="text-left p-3 text-sm font-medium text-secondary-foreground w-16">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-border" data-mock="true">
                                                <!-- @MAP: mappings.map(mapping => ( -->
                                                <tr class="hover:bg-accent/50">
                                                    <td class="p-0">
                                                        <input 
                                                            type="text" 
                                                            value="2.01" 
                                                            class="table-cell-input" 
                                                            placeholder="2.01"
                                                            data-bind="mapping.plcRegAdd"
                                                        >
                                                    </td>
                                                    <td class="p-0">
                                                        <select class="table-cell-input" data-bind="mapping.dataType">
                                                            <option value="int16" selected>int16</option>
                                                            <option value="bool">bool</option>
                                                            <option value="float32">float32</option>
                                                            <option value="int32">int32</option>
                                                            <option value="uint16">uint16</option>
                                                            <option value="uint32">uint32</option>
                                                        </select>
                                                    </td>
                                                    <td class="p-0">
                                                        <input 
                                                            type="text" 
                                                            value="BOOL_VAR01" 
                                                            class="table-cell-input" 
                                                            placeholder="BOOL_VAR01"
                                                            data-bind="mapping.opcuaRegAdd"
                                                        >
                                                    </td>
                                                    <td class="p-3">
                                                        <button class="text-destructive hover:text-destructive/80" data-event="click:removeMapping">
                                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                                            </svg>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr class="hover:bg-accent/50">
                                                    <td class="p-0">
                                                        <input 
                                                            type="text" 
                                                            value="C0001" 
                                                            class="table-cell-input" 
                                                            placeholder="C0001"
                                                            data-bind="mapping.plcRegAdd"
                                                        >
                                                    </td>
                                                    <td class="p-0">
                                                        <select class="table-cell-input" data-bind="mapping.dataType">
                                                            <option value="int16" selected>int16</option>
                                                            <option value="bool">bool</option>
                                                            <option value="float32">float32</option>
                                                            <option value="int32">int32</option>
                                                            <option value="uint16">uint16</option>
                                                            <option value="uint32">uint32</option>
                                                        </select>
                                                    </td>
                                                    <td class="p-0">
                                                        <input 
                                                            type="text" 
                                                            value="INT_VAR01" 
                                                            class="table-cell-input" 
                                                            placeholder="INT_VAR01"
                                                            data-bind="mapping.opcuaRegAdd"
                                                        >
                                                    </td>
                                                    <td class="p-3">
                                                        <button class="text-destructive hover:text-destructive/80" data-event="click:removeMapping">
                                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                                            </svg>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <!-- @END_MAP )) -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: PLCDevice -->

                    <!-- Second PLC Device -->
                    <div class="bg-card rounded-lg border border-border" data-plc-id="2">
                        <div class="flex items-center justify-between p-4 border-b border-border">
                            <div class="flex items-center space-x-3">
                                <div class="p-2 bg-primary/10 rounded-lg">
                                    <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-foreground" data-bind="plc.name">PLC Device 2</h3>
                                    <p class="text-sm text-muted-foreground">Industrial Controller</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1 text-sm font-medium bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors" data-event="click:deletePLC">
                                    DELETE
                                </button>
                                <button class="p-2 text-muted-foreground hover:text-foreground transition-colors collapse-toggle" data-event="click:toggleCollapse">
                                    <svg class="w-5 h-5 transform transition-transform rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="collapsible-content">
                            <div class="p-6 text-center text-muted-foreground">
                                <p>Click to expand and configure this PLC device...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add PLC Button -->
                <div class="text-center">
                    <button class="px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium" data-event="click:addPLC">
                        <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                        </svg>
                        Add New PLC Device
                    </button>
                </div>
            </div>

            <!-- Right Panel - JSON Preview & Actions -->
            <div class="space-y-6">
                <!-- Actions -->
                <div class="bg-card rounded-lg border border-border p-6">
                    <h2 class="text-lg font-semibold mb-4 text-foreground">Actions</h2>
                    <div class="space-y-3">
                        <button class="w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors font-medium" data-event="click:generateJSON">
                            <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 7v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2zm8 0V9a2 2 0 012-2h2a2 2 0 012 2v8a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6z"></path>
                            </svg>
                            Generate & Download JSON
                        </button>
                        <button class="w-full px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors font-medium" data-event="click:validateConfig">
                            <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Validate Configuration
                        </button>
                        <button class="w-full px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors font-medium" data-event="click:clearAll">
                            <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                            Clear All
                        </button>
                    </div>
                </div>

                <!-- JSON Preview -->
                <div class="bg-card rounded-lg border border-border p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold text-foreground">JSON Preview</h2>
                        <button class="px-3 py-1 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors text-sm font-medium" data-event="click:copyJSON">
                            <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                            Copy
                        </button>
                    </div>
                    
                    <div class="bg-muted rounded-md p-4 font-mono text-sm overflow-auto max-h-96" data-implementation="Real-time JSON preview updates">
                        <pre class="text-muted-foreground" data-bind="jsonPreview">{
  "plcs": [
    {
      "plc_name": "PLC1",
      "plc_ip": "192.168.2.2", 
      "opcua_url": "opc.tcp://192.168.1.20:4840",
      "address_mappings": [
        {
          "plc_reg_add": "2.01",
          "data_type": "int16",
          "opcua_reg_add": "BOOL_VAR01"
        },
        {
          "plc_reg_add": "C0001", 
          "data_type": "int16",
          "opcua_reg_add": "INT_VAR01"
        }
      ]
    },
    {
      "plc_name": "PLC2",
      "plc_ip": "192.168.2.4",
      "opcua_url": "opc.tcp://192.168.1.20:4840", 
      "address_mappings": [
        {
          "plc_reg_add": "2.01",
          "data_type": "int16", 
          "opcua_reg_add": "BOOL_VAR03"
        },
        {
          "plc_reg_add": "C0001",
          "data_type": "int16",
          "opcua_reg_add": "INT_VAR04"
        }
      ]
    }
  ]
}</pre>
                    </div>
                </div>

                <!-- Status Panel -->
                <div class="bg-card rounded-lg border border-border p-6">
                    <h2 class="text-lg font-semibold mb-4 text-foreground">Status</h2>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-muted-foreground">Total PLCs:</span>
                            <span class="font-medium text-foreground" data-bind="stats.totalPLCs">2</span>
                        </div>
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-muted-foreground">Total Mappings:</span>
                            <span class="font-medium text-foreground" data-bind="stats.totalMappings">4</span>
                        </div>
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-muted-foreground">Configuration Status:</span>
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                Valid
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // TODO: Implement business logic, API calls, and state management
        (function() {
            'use strict';
            
            // Language toggle functionality
            const langButtons = document.querySelectorAll('[data-lang]');
            langButtons.forEach(button => {
                button.addEventListener('click', function() {
                    langButtons.forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-primary-foreground');
                        btn.classList.add('text-muted-foreground', 'hover:text-foreground');
                    });
                    this.classList.add('bg-primary', 'text-primary-foreground');
                    this.classList.remove('text-muted-foreground', 'hover:text-foreground');
                    
                    // TODO: Implement actual language switching
                    console.log('Language switched to:', this.dataset.lang);
                });
            });

            // Collapsible sections
            const collapseToggles = document.querySelectorAll('.collapse-toggle');
            collapseToggles.forEach(toggle => {
                toggle.addEventListener('click', function() {
                    const content = this.closest('.bg-card').querySelector('.collapsible-content');
                    const icon = this.querySelector('svg');
                    
                    if (content.classList.contains('expanded')) {
                        content.classList.remove('expanded');
                        icon.classList.remove('rotate-180');
                    } else {
                        content.classList.add('expanded');
                        icon.classList.add('rotate-180');
                    }
                });
            });

            // File upload drag and drop
            const uploadAreas = document.querySelectorAll('[data-implementation*="File upload"]');
            uploadAreas.forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    // TODO: Handle file upload
                    console.log('Files dropped:', e.dataTransfer.files);
                });
            });

            // Form validation demo
            const ipInputs = document.querySelectorAll('input[placeholder*="192.168"]');
            ipInputs.forEach(input => {
                input.addEventListener('blur', function() {
                    const value = this.value;
                    const ipRegex = /^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/;
                    
                    if (value && !ipRegex.test(value)) {
                        this.classList.add('border-destructive');
                        // TODO: Show validation error
                    } else {
                        this.classList.remove('border-destructive');
                    }
                });
            });

            // Copy JSON functionality
            const copyButton = document.querySelector('[data-event="click:copyJSON"]');
            if (copyButton) {
                copyButton.addEventListener('click', function() {
                    const jsonContent = document.querySelector('[data-bind="jsonPreview"]').textContent;
                    navigator.clipboard.writeText(jsonContent).then(() => {
                        // TODO: Show success message
                        console.log('JSON copied to clipboard');
                    });
                });
            }

            console.log('PLC Configuration Manager initialized');
        })();
    </script>
</body>
</html>